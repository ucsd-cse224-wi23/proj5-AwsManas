rm -rf ./test/_bin
GOBIN="/Users/manas/Desktop/UCSD - Classes /Winter 23/CSE 224/proj5-AwsManas"/test/_bin go get github.com/mattn/go-sqlite3
GOBIN="/Users/manas/Desktop/UCSD - Classes /Winter 23/CSE 224/proj5-AwsManas"/test/_bin go install ./...
go test -v -run TestRaftFollowersGetUpdates -count=1 ./test/...
=== RUN   TestRaftFollowersGetUpdates
    raft_test.go:79: leader1 gets a request
Sending heartbeat from  0
Sending This to follower :  {{{} [] [] <nil>} 0 [] 1 -1 0 [] -1}
Sending This to follower :  {{{} [] [] <nil>} 0 [] 1 -1 0 [] -1}
IAM 1 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 -1 -1 0
IAM 2 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 -1 -1 0
IAM  1  Before returning sucess here's my values : len(log), commit_idx , term  0 -1 1
IAM  2  Before returning sucess here's my values : len(log), commit_idx , term  0 -1 1
Got sucess heartbeat response from  :  2
Got sucess heartbeat response from  :  1
Finished sending heartbeat - got  3 responses
Sending heartbeat from  0
Sending This to follower :  {{{} [] [] <nil>} 0 [] 1 -1 0 [] -1}
Sending This to follower :  {{{} [] [] <nil>} 0 [] 1 -1 0 [] -1}
IAM 2 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 -1 -1 0
IAM 1 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 -1 -1 0
IAM  2  Before returning sucess here's my values : len(log), commit_idx , term  0 -1 1
IAM  1  Before returning sucess here's my values : len(log), commit_idx , term  0 -1 1
Got sucess heartbeat response from  :  1
Got sucess heartbeat response from  :  2
Finished sending heartbeat - got  3 responses
In UpdateFile : serverID :  0 Leader , Crashed :  true false
In UpdateFile , updated log is  : serverID :  0 [term:1  fileMetaData:{filename:"testfile"  version:1}]
In UpdateFile , updated log lenght  for serverID : is  0 1
logIndexMinus :  1 0
logIndexMinus :  2 0
IAM 2 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 -1 -1 1
IAM 1 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 -1 -1 1
IAM  2  Before returning sucess here's my values : len(log), commit_idx , term  1 -1 1
IAM  1  Before returning sucess here's my values : len(log), commit_idx , term  1 -1 1
UpdateFile - Update sucessfull for :  1 in  0
UpdateFile - Update sucessfull for :  2 in  0
Got majority , applying operation is local , here's my state before operation :  [term:1  fileMetaData:{filename:"testfile"  version:1}]
State after operation :  [term:1  fileMetaData:{filename:"testfile"  version:1}]
Sending heartbeat from  0
Sending This to follower :  {{{} [] [] <nil>} 0 [] 1 0 1 [term:1  fileMetaData:{filename:"testfile"  version:1}] 0}
Sending This to follower :  {{{} [] [] <nil>} 0 [] 1 0 1 [term:1  fileMetaData:{filename:"testfile"  version:1}] 0}
IAM 2 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 0 0 1
Applying updatefile for server  2
IAM  2  Before returning sucess here's my values : len(log), commit_idx , term  1 0 1
Got sucess heartbeat response from  :  2
IAM 1 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 0 0 1
Applying updatefile for server  1
IAM  1  Before returning sucess here's my values : len(log), commit_idx , term  1 0 1
Got sucess heartbeat response from  :  1
Finished sending heartbeat - got  3 responses
In UpdateFile : serverID :  0 Leader , Crashed :  true false
In UpdateFile , updated log is  : serverID :  0 [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2}]
In UpdateFile , updated log lenght  for serverID : is  0 2
logIndexMinus :  1 0
logIndexMinus :  2 0
IAM 1 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 0 0 2
IAM  1  Before returning sucess here's my values : len(log), commit_idx , term  2 0 1
IAM 2 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 0 0 2
IAM  2  Before returning sucess here's my values : len(log), commit_idx , term  2 0 1
UpdateFile - Update sucessfull for :  1 in  0
UpdateFile - Update sucessfull for :  2 in  0
Got majority , applying operation is local , here's my state before operation :  [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2}]
State after operation :  [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2}]
Sending heartbeat from  0
Sending This to follower :  {{{} [] [] <nil>} 0 [] 1 1 1 [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2}] 1}
Sending This to follower :  {{{} [] [] <nil>} 0 [] 1 1 1 [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2}] 1}
IAM 1 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 1 1 2
Applying updatefile for server  1
IAM  1  Before returning sucess here's my values : len(log), commit_idx , term  2 1 1
IAM 2 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 1 1 2
Applying updatefile for server  2
IAM  2  Before returning sucess here's my values : len(log), commit_idx , term  2 1 1
Got sucess heartbeat response from  :  1
Got sucess heartbeat response from  :  2
Finished sending heartbeat - got  3 responses
Sending heartbeat from  0
Sending This to follower :  {{{} [] [] <nil>} 0 [] 1 1 1 [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2}] 1}
Sending This to follower :  {{{} [] [] <nil>} 0 [] 1 1 1 [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2}] 1}
IAM 2 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 1 1 2
IAM  2  Before returning sucess here's my values : len(log), commit_idx , term  2 1 1
IAM 1 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   1 1 1 2
IAM  1  Before returning sucess here's my values : len(log), commit_idx , term  2 1 1
Got sucess heartbeat response from  :  2
Got sucess heartbeat response from  :  1
Finished sending heartbeat - got  3 responses
Sending heartbeat from  1
Sending This to follower :  {{{} [] [] <nil>} 0 [] 2 1 1 [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2}] 1}
Sending This to follower :  {{{} [] [] <nil>} 0 [] 2 1 1 [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2}] 1}
IAM 2 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   2 1 1 2
IAM  2  Before returning sucess here's my values : len(log), commit_idx , term  2 1 2
Got sucess heartbeat response from  :  2
IAM 0 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   2 1 1 2
IAM  0  Before returning sucess here's my values : len(log), commit_idx , term  2 1 2
Got sucess heartbeat response from  :  0
Finished sending heartbeat - got  3 responses
Sending heartbeat from  1
Sending This to follower :  {{{} [] [] <nil>} 0 [] 2 1 1 [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2}] 1}
Sending This to follower :  {{{} [] [] <nil>} 0 [] 2 1 1 [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2}] 1}
IAM 2 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   2 1 1 2
IAM  2  Before returning sucess here's my values : len(log), commit_idx , term  2 1 2
IAM 0 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   2 1 1 2
IAM  0  Before returning sucess here's my values : len(log), commit_idx , term  2 1 2
Got sucess heartbeat response from  :  2
Got sucess heartbeat response from  :  0
Finished sending heartbeat - got  3 responses
In UpdateFile : serverID :  1 Leader , Crashed :  true false
In UpdateFile , updated log is  : serverID :  1 [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2} term:2  fileMetaData:{filename:"testfile2"  version:1}]
In UpdateFile , updated log lenght  for serverID : is  1 3
logIndexMinus :  0 0
logIndexMinus :  2 0
IAM 2 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   2 1 1 3
IAM  2  Before returning sucess here's my values : len(log), commit_idx , term  3 1 2
UpdateFile - Update sucessfull for :  2 in  1
IAM 0 Reacieved a appendEntry call with values : Term , LeaderCommit , PrevLogidx , len of entries :   2 1 1 3
IAM  0  Before returning sucess here's my values : len(log), commit_idx , term  3 1 2
UpdateFile - Update sucessfull for :  0 in  1
Got majority , applying operation is local , here's my state before operation :  [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2} term:2  fileMetaData:{filename:"testfile2"  version:1}]
State after operation :  [term:1  fileMetaData:{filename:"testfile"  version:1} term:1  fileMetaData:{filename:"testfile"  version:2} term:2  fileMetaData:{filename:"testfile2"  version:1}]
    raft_test.go:163: Error checking state for server 0: incorrect MetaStore state
--- FAIL: TestRaftFollowersGetUpdates (2.14s)
FAIL
FAIL	cse224/proj5/test	2.418s
FAIL
